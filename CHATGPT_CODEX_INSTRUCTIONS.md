# ğŸ“‹ Instructions for ChatGPT Codex

**Hey ChatGPT Codex!** ğŸ‘‹

Claude Code hat **Week 1 des BLAB-Projekts** fertig implementiert und braucht jetzt dein Debug/Optimize-Expertenwissen.

---

## ğŸ¯ DEINE AUFGABE

Bitte fÃ¼hre ein **vollstÃ¤ndiges Performance & Code Quality Review** durch fÃ¼r:

- **UnifiedControlHub** (60 Hz control loop)
- **ARFaceTrackingManager** (ARKit face tracking)
- **FaceToAudioMapper** (facial expressions â†’ audio parameters)

---

## ğŸ“‚ RELEVANTE FILES

**Lies diese Files zuerst:**

1. **`.github/HANDOFF_TO_CODEX_WEEK1.md`** â† **HAUPTDOKUMENT (START HIER!)**
   - VollstÃ¤ndige Aufgabenbeschreibung
   - Areas of Concern (was zu testen ist)
   - Performance Targets
   - Reporting Format

2. **Implementation Files:**
   - `Sources/Blab/Unified/UnifiedControlHub.swift`
   - `Sources/Blab/Spatial/ARFaceTrackingManager.swift`
   - `Sources/Blab/Unified/FaceToAudioMapper.swift`

3. **Tests:**
   - `Tests/BlabTests/UnifiedControlHubTests.swift`
   - `Tests/BlabTests/FaceToAudioMapperTests.swift`

4. **Architecture:**
   - `BLAB_EXTENDED_VISION.md`
   - `BLAB_90_DAY_ROADMAP.md`

---

## âœ… DEIN REVIEW SOLL ENTHALTEN:

### 1. **Performance Metrics:**
- Control loop frequency (Ziel: 60 Hz Â±5)
- CPU usage (Ziel: < 20%)
- Memory usage (Ziel: < 100 MB)

### 2. **Memory Leak Analysis:**
- Instruments Leaks Report
- Memory growth over time
- Retain cycles (especially Combine pipelines)

### 3. **Thread Safety:**
- Thread Sanitizer warnings
- @MainActor usage korrekt?
- Data races?

### 4. **Code Quality:**
- Refactoring suggestions
- Code smells
- Best practices violations

### 5. **Optimization Recommendations:**
- Bottlenecks identified
- Performance improvements
- Estimated gains

---

## ğŸ› ï¸ TOOLS DIE DU NUTZEN SOLLTEST:

**Xcode Instruments:**
- Time Profiler (CPU)
- Allocations (Memory)
- Leaks (Memory Leaks)
- System Trace (Threads)

**Xcode Diagnostics:**
- Thread Sanitizer
- Address Sanitizer
- Undefined Behavior Sanitizer

---

## ğŸ“Š REPORTING FORMAT

**Nutze das Format aus `.github/HANDOFF_TO_CODEX_WEEK1.md`:**

```markdown
# ChatGPT Codex Review â€” Week 1 Implementation

## Performance Metrics
- Control Loop Frequency: X Hz (âœ…/âŒ)
- CPU Usage: X% (âœ…/âŒ)
- Memory Usage: X MB (âœ…/âŒ)

## Memory Leak Analysis
[...]

## Thread Safety
[...]

## Code Quality
[...]

## Optimization Recommendations
[...]

## Overall Assessment
**Status:** âœ… Ready / âš ï¸ Needs fixes / âŒ Blocking

**Recommendation:** [Proceed to Week 2 / Fix issues first]
```

---

## ğŸš€ NACH DEINEM REVIEW:

- âœ… **Green:** Claude Code startet Week 2 (Hand Tracking)
- âš ï¸ **Yellow:** Claude Code fixt Issues â†’ Week 2
- âŒ **Red:** Major Refactoring needed

---

## âš ï¸ WICHTIGE INFO:

**Build Environment:**
- Projekt kann NUR auf **macOS mit Xcode 15+** gebaut werden
- Linux Container hat kein Swift â†’ nutze lokale macOS-Umgebung
- Test auf **iPhone 13 Pro** (oder neuer) fÃ¼r Performance-Baseline
- ARKit braucht **iPhone X+** (TrueDepth camera)

---

## ğŸ“ FRAGEN?

Falls etwas unklar ist:
- Frag den User, er leitet es an Claude Code weiter
- Referenziere File:Line Numbers
- Include Code-Snippets

---

**LOS GEHT'S!** ğŸ”

Viel Erfolg beim Review! ğŸš€

---

**Generated by:** Claude Code
**For:** ChatGPT Codex
**Project:** BLAB
**Date:** 2025-10-21
